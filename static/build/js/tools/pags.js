define(["jquery","path"],function(t,s){var e="",i={getAjax:function(s,i,a){t("body").attr("requestData")==i?a(e,null):t.get(s,i,function(s){e=s,t("body").attr({httpType:"getAjax",requestData:i}),void 0!=a&&a(s,null)},"json")},postAjax:function(s,i,a){t("body").attr("requestData")==i?a(e,null):t.post(s,i,function(s){e=s,console.log(e),t("body").attr({httpType:"postAjax",requestData:i}),void 0!=a&&a(s,null)},"json")},gotopage:function(t,s){this.cpage=t,this.page(),this.reloadpageAjax(t,s)},ready2go:function(e){var a=this;t("#"+a.page_obj_id).off("click","a").on("click","a",function(){t("#"+a.page_obj_id).prev().html('<div style="padding:40px 0 0 0;text-align:center;"><img src="'+s.localhostImg+'/loading/rjsAjaxloading.gif"></div>'),a.target_p=parseInt(t(this).attr("pageIndex")),i.gotopage.call(a,a.target_p,e)})},pageMethod:function(){var t=this;t.resetTotal(),t.reloadpageAjax(t.currentPageNum,!1),t.page(),i.ready2go.call(t,!1)},callbackPageMethod:function(){var t=this;t.resetTotal(),t.reloadpageAjax(t.currentPageNum,!0),t.page(),i.ready2go.call(t,!0)},jsPage:function(s,e,a,h,o,r,n,p){this.page_obj_id=e,this.page_obj=t("#"+e),this.results=parseInt(s),this.totalpage,this.pagesize=parseInt(a),this.cpage=n,this.count,this.target_p,this.curcount,this.outstr="",this.goNext=5,this.requestUrl=h,this.requestData=o,this.responseEvent=r,this.successPar=p||null,this.currentPageNum,n?(this.currentPageNum=n,this.cpage=parseInt(n)):(this.currentPageNum=1,this.cpage=1),this.reloadpage=function(t){this.li.hide();for(var s=this.pagesize*t-this.pagesize;s<this.pagesize*t;s++)this.li.eq(s).show()},this.reloadpageAjax=function(s,e){function a(t){var s=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=h.substr(1).match(s);return null!=e?unescape(e[2]):null}if(e)var h=this.requestData?this.requestData:new Object;else{var h=this.requestData;h=null==a("p")?h+"&p="+s:h.replace("p="+a("p"),"p="+s)}"getAjax"==t("body").attr("httpType")&&i.getAjax(this.requestUrl,h,this.responseEvent),"postAjax"==t("body").attr("httpType")&&i.postAjax(this.requestUrl,h,this.responseEvent)},this.resetTotal=function(){0==this.results?(this.totalpage=0,this.cpage=0):this.results<=this.pagesize?this.totalpage=1:1==parseInt(this.results/this.pagesize)?this.totalpage=2:parseInt(this.results/this.pagesize)>1&&this.results%this.pagesize==0?this.totalpage=this.results/this.pagesize:this.totalpage=parseInt(this.results/this.pagesize)+1},this.page=function(){if(this.totalpage<=this.goNext)for(this.count=1;this.count<=this.totalpage;this.count++)this.count!=this.cpage?this.outstr=this.outstr+"<a href='javascript:void(0)' pageIndex='"+this.count+"' >"+this.count+"</a>":this.outstr=this.outstr+"<span class='current'>"+this.count+"</span>";if(this.totalpage>this.goNext)if(0==parseInt((this.cpage-1)/this.goNext)){for(this.count=1;this.count<=this.goNext;this.count++)this.count!=this.cpage?this.outstr=this.outstr+"<a href='javascript:void(0)' pageIndex='"+this.count+"' >"+this.count+"</a>":this.outstr=this.outstr+"<span class='current'>"+this.count+"</span>";this.outstr=this.outstr+"<a href='javascript:void(0)' pageIndex='"+this.count+"' >&raquo;</a>"}else if(parseInt((this.cpage-1)/this.goNext)==parseInt(this.totalpage/this.goNext))for(this.outstr=this.outstr+"<a href='javascript:void(0)' pageIndex='"+parseInt((this.cpage-1)/this.goNext)*this.goNext+"' >&laquo;</a>",this.count=parseInt(this.totalpage/this.goNext)*this.goNext+1;this.count<=this.totalpage;this.count++)this.count!=this.cpage?this.outstr=this.outstr+"<a href='javascript:void(0)' pageIndex='"+this.count+"' >"+this.count+"</a>":this.outstr=this.outstr+"<span class='current'>"+this.count+"</span>";else{var t;for(this.outstr=this.outstr+"<a href='javascript:void(0)' pageIndex='"+parseInt((this.cpage-1)/this.goNext)*this.goNext+"' >&laquo;</a>",this.count=parseInt((this.cpage-1)/this.goNext)*this.goNext+1;this.count<=parseInt((this.cpage-1)/this.goNext)*this.goNext+this.goNext;this.count++)this.count!=this.cpage?this.outstr=this.outstr+"<a href='javascript:void(0)' pageIndex='"+this.count+"' >"+this.count+"</a>":this.outstr=this.outstr+"<span class='current'>"+this.count+"</span>",t=this.count==this.totalpage?"":"<a href='javascript:void(0)' pageIndex='"+(this.count+1)+"' >&raquo;</a>";this.outstr=this.outstr+t}this.totalpage>1?(this.Prestr="<a href='javascript:void(0)' pageIndex='"+parseInt(this.cpage-1)+"'>上一页</a>",this.startstr="<a href='javascript:void(0)' pageIndex='1'>首页</a>",this.nextstr="<a href='javascript:void(0)' pageIndex='"+parseInt(this.cpage+1)+"'>下一页</a>",this.endstr="<a href='javascript:void(0)' pageIndex='"+this.totalpage+"'>尾页</a> <em class='pagenum'>总数："+s+"</em>",1!=this.cpage?this.cpage>=this.totalpage?document.getElementById(this.page_obj_id).innerHTML="<div>"+this.startstr+this.Prestr+this.outstr+"</div>":document.getElementById(this.page_obj_id).innerHTML="<div>"+this.startstr+this.Prestr+this.outstr+this.nextstr+this.endstr+"</div>":document.getElementById(this.page_obj_id).innerHTML="<div>"+this.outstr+this.nextstr+this.endstr+"</div>"):document.getElementById(this.page_obj_id).innerHTML="",this.outstr=""}}};return i});